<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vendor Dashboard - FoodieDelight</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Specific Vendor Styles */
        .dashboard-tabs { display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 1px solid #ddd; padding-bottom: 10px; }
        .tab-btn { background: none; border: none; padding: 10px 20px; cursor: pointer; font-size: 16px; color: #666; }
        .tab-btn.active { color: var(--primary-color); border-bottom: 2px solid var(--primary-color); font-weight: bold; }
        .view-section { display: none; }
        .view-section.active { display: block; }
        
        .order-item { border: 1px solid #eee; padding: 15px; margin-bottom: 10px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; }
        .status-badge { padding: 5px 10px; border-radius: 12px; font-size: 12px; font-weight: bold; }
        .status-waiting { background: #fff3cd; color: #856404; }
        .status-processed { background: #d4edda; color: #155724; }
    </style>
</head>
<body>
    <nav class="navbar">
        <a href="#" class="navbar-brand">FoodieDelight <span style="font-size: 0.8em; color: #fff;">(Vendor)</span></a>
        <div class="navbar-links">
            <a href="#" id="logout-btn" class="nav-link" style="display: none;">Logout</a>
        </div>
    </nav>

    <div class="main-content-wrapper">
        <div id="message-container"></div>

        <div id="login-view" class="auth-card" style="margin: 50px auto;">
            <h1>Vendor Login</h1>
            <form id="vendor-login-form" class="auth-form">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="vendor-email" required placeholder="vendor@example.com">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="vendor-pass" required>
                </div>
                <button type="submit" class="btn primary">Login</button>
            </form>
        </div>

        <div id="dashboard-view" style="display: none; padding: 20px;">
            <div class="dashboard-tabs">
                <button class="tab-btn active" onclick="switchTab('products')">My Food Menu</button>
                <button class="tab-btn" onclick="switchTab('orders')">Orders</button>
                <button class="tab-btn" onclick="switchTab('profile')">Profile</button>
            </div>

            <div id="tab-products" class="view-section active">
                <div class="auth-card" style="margin: 0 auto 30px auto; max-width: 600px;">
                    <h3>Add New Food Item</h3>
                    <form id="add-food-form" class="auth-form">
                        <div class="form-group">
                            <input type="text" name="name" placeholder="Food Name (e.g. Chicken Burger)" required>
                        </div>
                        <div class="form-group">
                            <input type="text" name="description" placeholder="Description" required>
                        </div>
                        <div class="form-group">
                            <select name="category" required style="width: 100%; padding: 8px;">
                                <option value="lunch">Lunch</option>
                                <option value="dinner">Dinner</option>
                                <option value="breakfast">Breakfast</option>
                                <option value="snacks">Snacks</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <select name="foodType" required style="width: 100%; padding: 8px;">
                                <option value="veg">Veg</option>
                                <option value="non-veg">Non-Veg</option>
                            </select>
                        </div>
                        <div class="form-group" style="display: flex; gap: 10px;">
                            <input type="number" name="readyTime" placeholder="Time (mins)" required>
                            <input type="number" name="price" placeholder="Price (â‚¹)" required>
                        </div>
                        <div class="form-group">
                            <label>Food Image</label>
                            <input type="file" name="images" accept="image/*" required>
                        </div>
                        <button type="submit" class="btn primary">Add Food</button>
                    </form>
                </div>
                <h3>Your Menu</h3>
                <div id="vendor-food-list" class="food-grid"></div>
            </div>

            <div id="tab-orders" class="view-section">
                <h3>Incoming Orders</h3>
                <button class="btn ghost" onclick="loadOrders()" style="margin-bottom: 10px;">Refresh Orders</button>
                <div id="vendor-orders-list"></div>
            </div>

            <div id="tab-profile" class="view-section">
                <div class="auth-card">
                    <h3>Vendor Profile</h3>
                    <p><strong>Name:</strong> <span id="p-name"></span></p>
                    <p><strong>Phone:</strong> <span id="p-phone"></span></p>
                    <p><strong>Service Available:</strong> <span id="p-service"></span></p>
                    
                    <hr>
                    <h4>Update Cover Image</h4>
                    <form id="cover-image-form" style="margin-top: 10px;">
                        <input type="file" name="images" accept="image/*" required>
                        <button type="submit" class="btn primary" style="margin-top: 5px;">Upload Cover</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="api.js"></script>
    <script type="module" src="vendor.js"></script>
    <script>
        // Simple Tab Switcher Global Function
        window.switchTab = (tabName) => {
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            document.getElementById('tab-' + tabName).classList.add('active');
            event.target.classList.add('active');
        };
    </script>
</body>
</html>